<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ABC: A Batching Compiler for FHE: SpecialInsertModSwitchVisitor Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ABC: A Batching Compiler for FHE
   </div>
   <div id="projectbrief">Optimizing compiler for Fully Homomorphic Encryption</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="class_special_insert_mod_switch_visitor-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">SpecialInsertModSwitchVisitor Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for SpecialInsertModSwitchVisitor:</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_special_insert_mod_switch_visitor.png" usemap="#SpecialInsertModSwitchVisitor_map" alt=""/>
  <map id="SpecialInsertModSwitchVisitor_map" name="SpecialInsertModSwitchVisitor_map">
<area href="class_scoped_visitor.html" alt="ScopedVisitor" shape="rect" coords="0,56,183,80"/>
<area href="class_i_visitor.html" alt="IVisitor" shape="rect" coords="0,0,183,24"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a628c68c9235964126a9d45753d254540"><td class="memItemLeft" align="right" valign="top"><a id="a628c68c9235964126a9d45753d254540"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>SpecialInsertModSwitchVisitor</b> (std::ostream &amp;os, std::unordered_map&lt; std::string, int &gt; noise_map, std::unordered_map&lt; std::string, std::vector&lt; seal::Modulus &gt;&gt; coeffmodulusmap, int encNoiseBudget)</td></tr>
<tr class="separator:a628c68c9235964126a9d45753d254540"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8f31e684bcc413f1ae1aec18e1e8dd7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_special_insert_mod_switch_visitor.html#ae8f31e684bcc413f1ae1aec18e1e8dd7">visit</a> (<a class="el" href="class_binary_expression.html">BinaryExpression</a> &amp;node)</td></tr>
<tr class="separator:ae8f31e684bcc413f1ae1aec18e1e8dd7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1d5e7ad89f51d2f215c666fe0826253"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="class_binary_expression.html">BinaryExpression</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_special_insert_mod_switch_visitor.html#ab1d5e7ad89f51d2f215c666fe0826253">getModSwitchNodes</a> () const</td></tr>
<tr class="separator:ab1d5e7ad89f51d2f215c666fe0826253"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5a07cd10ba8956907cee6af6e4cfead"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_special_insert_mod_switch_visitor.html#ad5a07cd10ba8956907cee6af6e4cfead">updateNoiseMap</a> (<a class="el" href="class_abstract_node.html">AbstractNode</a> &amp;astProgram, <a class="el" href="class_visitor.html">RuntimeVisitor</a> *srv)</td></tr>
<tr class="separator:ad5a07cd10ba8956907cee6af6e4cfead"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe5af723e743e28e7f000c49962a29c2"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; <a class="el" href="class_abstract_node.html">AbstractNode</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_special_insert_mod_switch_visitor.html#afe5af723e743e28e7f000c49962a29c2">rewriteAst</a> (std::unique_ptr&lt; <a class="el" href="class_abstract_node.html">AbstractNode</a> &gt; *ast, <a class="el" href="class_visitor.html">RuntimeVisitor</a> srv, std::unordered_map&lt; std::string, std::vector&lt; seal::Modulus &gt;&gt; coeffmodulusmap={})</td></tr>
<tr class="separator:afe5af723e743e28e7f000c49962a29c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2fa9f4c2cd13cf4580b35fe55aa97f54"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_special_insert_mod_switch_visitor.html#a2fa9f4c2cd13cf4580b35fe55aa97f54">updateCoeffModulusMap</a> (<a class="el" href="class_binary_expression.html">BinaryExpression</a> *binaryExpression, int numSwitches)</td></tr>
<tr class="separator:a2fa9f4c2cd13cf4580b35fe55aa97f54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac153481bfd0d4e438edde7c410a720eb"><td class="memItemLeft" align="right" valign="top">std::unordered_map&lt; std::string, std::vector&lt; seal::Modulus &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_special_insert_mod_switch_visitor.html#ac153481bfd0d4e438edde7c410a720eb">getCoeffModulusMap</a> ()</td></tr>
<tr class="separator:ac153481bfd0d4e438edde7c410a720eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71256438ed1d319ffdd75009fbd0cef8"><td class="memItemLeft" align="right" valign="top">std::unordered_map&lt; std::string, int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_special_insert_mod_switch_visitor.html#a71256438ed1d319ffdd75009fbd0cef8">getNoiseMap</a> ()</td></tr>
<tr class="separator:a71256438ed1d319ffdd75009fbd0cef8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_class_scoped_visitor"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_class_scoped_visitor')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="class_scoped_visitor.html">ScopedVisitor</a></td></tr>
<tr class="memitem:ae78d02edf0fa963223962a5c627bd904 inherit pub_methods_class_scoped_visitor"><td class="memItemLeft" align="right" valign="top"><a id="ae78d02edf0fa963223962a5c627bd904"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>visit</b> (<a class="el" href="class_block.html">Block</a> &amp;elem) override</td></tr>
<tr class="separator:ae78d02edf0fa963223962a5c627bd904 inherit pub_methods_class_scoped_visitor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab61b69a75c6d9585a9c60375a8c6572b inherit pub_methods_class_scoped_visitor"><td class="memItemLeft" align="right" valign="top"><a id="ab61b69a75c6d9585a9c60375a8c6572b"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>visit</b> (<a class="el" href="class_call.html">Call</a> &amp;elem) override</td></tr>
<tr class="separator:ab61b69a75c6d9585a9c60375a8c6572b inherit pub_methods_class_scoped_visitor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9331403c8faa41bd51ac798988aab4b inherit pub_methods_class_scoped_visitor"><td class="memItemLeft" align="right" valign="top"><a id="ac9331403c8faa41bd51ac798988aab4b"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>visit</b> (<a class="el" href="class_expression_list.html">ExpressionList</a> &amp;elem) override</td></tr>
<tr class="separator:ac9331403c8faa41bd51ac798988aab4b inherit pub_methods_class_scoped_visitor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9270f4ec3c2ec245f9ae56578827c39b inherit pub_methods_class_scoped_visitor"><td class="memItemLeft" align="right" valign="top"><a id="a9270f4ec3c2ec245f9ae56578827c39b"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>visit</b> (<a class="el" href="class_for.html">For</a> &amp;elem) override</td></tr>
<tr class="separator:a9270f4ec3c2ec245f9ae56578827c39b inherit pub_methods_class_scoped_visitor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d306204732209a0fe2ce126186e3131 inherit pub_methods_class_scoped_visitor"><td class="memItemLeft" align="right" valign="top"><a id="a4d306204732209a0fe2ce126186e3131"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>visit</b> (<a class="el" href="class_function.html">Function</a> &amp;elem) override</td></tr>
<tr class="separator:a4d306204732209a0fe2ce126186e3131 inherit pub_methods_class_scoped_visitor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a104ed2f093ba66f4099cf4151cf9aa7a inherit pub_methods_class_scoped_visitor"><td class="memItemLeft" align="right" valign="top"><a id="a104ed2f093ba66f4099cf4151cf9aa7a"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>visit</b> (<a class="el" href="class_function_parameter.html">FunctionParameter</a> &amp;elem) override</td></tr>
<tr class="separator:a104ed2f093ba66f4099cf4151cf9aa7a inherit pub_methods_class_scoped_visitor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acfa19d36b4f733d7b7a144250ca48b67 inherit pub_methods_class_scoped_visitor"><td class="memItemLeft" align="right" valign="top"><a id="acfa19d36b4f733d7b7a144250ca48b67"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>visit</b> (<a class="el" href="class_if.html">If</a> &amp;elem) override</td></tr>
<tr class="separator:acfa19d36b4f733d7b7a144250ca48b67 inherit pub_methods_class_scoped_visitor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa27caf8f09dffd2ece7b73390776691a inherit pub_methods_class_scoped_visitor"><td class="memItemLeft" align="right" valign="top"><a id="aa27caf8f09dffd2ece7b73390776691a"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>visit</b> (<a class="el" href="class_index_access.html">IndexAccess</a> &amp;elem) override</td></tr>
<tr class="separator:aa27caf8f09dffd2ece7b73390776691a inherit pub_methods_class_scoped_visitor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2020f28effdf0f092dd468bb5deceb01 inherit pub_methods_class_scoped_visitor"><td class="memItemLeft" align="right" valign="top"><a id="a2020f28effdf0f092dd468bb5deceb01"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>visit</b> (<a class="el" href="class_literal.html">LiteralBool</a> &amp;elem) override</td></tr>
<tr class="separator:a2020f28effdf0f092dd468bb5deceb01 inherit pub_methods_class_scoped_visitor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5f0a4b23476eeb0ae03d2e5d74ef77f inherit pub_methods_class_scoped_visitor"><td class="memItemLeft" align="right" valign="top"><a id="ae5f0a4b23476eeb0ae03d2e5d74ef77f"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>visit</b> (<a class="el" href="class_literal.html">LiteralChar</a> &amp;elem) override</td></tr>
<tr class="separator:ae5f0a4b23476eeb0ae03d2e5d74ef77f inherit pub_methods_class_scoped_visitor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f03bff252a4fe3d6499c473901b6aa9 inherit pub_methods_class_scoped_visitor"><td class="memItemLeft" align="right" valign="top"><a id="a4f03bff252a4fe3d6499c473901b6aa9"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>visit</b> (<a class="el" href="class_literal.html">LiteralInt</a> &amp;elem) override</td></tr>
<tr class="separator:a4f03bff252a4fe3d6499c473901b6aa9 inherit pub_methods_class_scoped_visitor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff11535fba1520dd0efe356213d8f39c inherit pub_methods_class_scoped_visitor"><td class="memItemLeft" align="right" valign="top"><a id="aff11535fba1520dd0efe356213d8f39c"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>visit</b> (<a class="el" href="class_literal.html">LiteralFloat</a> &amp;elem) override</td></tr>
<tr class="separator:aff11535fba1520dd0efe356213d8f39c inherit pub_methods_class_scoped_visitor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2be206a226da31e0662bc3438b80edf inherit pub_methods_class_scoped_visitor"><td class="memItemLeft" align="right" valign="top"><a id="af2be206a226da31e0662bc3438b80edf"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>visit</b> (<a class="el" href="class_literal.html">LiteralDouble</a> &amp;elem) override</td></tr>
<tr class="separator:af2be206a226da31e0662bc3438b80edf inherit pub_methods_class_scoped_visitor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c1fb3929a0b70e0a78fc7c1e8afd847 inherit pub_methods_class_scoped_visitor"><td class="memItemLeft" align="right" valign="top"><a id="a8c1fb3929a0b70e0a78fc7c1e8afd847"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>visit</b> (<a class="el" href="class_literal.html">LiteralString</a> &amp;elem) override</td></tr>
<tr class="separator:a8c1fb3929a0b70e0a78fc7c1e8afd847 inherit pub_methods_class_scoped_visitor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8519db4007647e824e1392163bb7c702 inherit pub_methods_class_scoped_visitor"><td class="memItemLeft" align="right" valign="top"><a id="a8519db4007647e824e1392163bb7c702"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>visit</b> (<a class="el" href="class_operator_expression.html">OperatorExpression</a> &amp;elem) override</td></tr>
<tr class="separator:a8519db4007647e824e1392163bb7c702 inherit pub_methods_class_scoped_visitor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a922791e77c7ea754aa84806e869783e9 inherit pub_methods_class_scoped_visitor"><td class="memItemLeft" align="right" valign="top"><a id="a922791e77c7ea754aa84806e869783e9"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>visit</b> (<a class="el" href="class_return.html">Return</a> &amp;elem) override</td></tr>
<tr class="separator:a922791e77c7ea754aa84806e869783e9 inherit pub_methods_class_scoped_visitor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf5848e68c7184a57ac8e05ab22c74aa inherit pub_methods_class_scoped_visitor"><td class="memItemLeft" align="right" valign="top"><a id="acf5848e68c7184a57ac8e05ab22c74aa"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>visit</b> (<a class="el" href="class_ternary_operator.html">TernaryOperator</a> &amp;elem) override</td></tr>
<tr class="separator:acf5848e68c7184a57ac8e05ab22c74aa inherit pub_methods_class_scoped_visitor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a166aa10aa6e05c4dbaf09a4691139f59 inherit pub_methods_class_scoped_visitor"><td class="memItemLeft" align="right" valign="top"><a id="a166aa10aa6e05c4dbaf09a4691139f59"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>visit</b> (<a class="el" href="class_unary_expression.html">UnaryExpression</a> &amp;elem) override</td></tr>
<tr class="separator:a166aa10aa6e05c4dbaf09a4691139f59 inherit pub_methods_class_scoped_visitor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0344eccc53fdaf95426d05540222e0d4 inherit pub_methods_class_scoped_visitor"><td class="memItemLeft" align="right" valign="top"><a id="a0344eccc53fdaf95426d05540222e0d4"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>visit</b> (<a class="el" href="class_assignment.html">Assignment</a> &amp;elem) override</td></tr>
<tr class="separator:a0344eccc53fdaf95426d05540222e0d4 inherit pub_methods_class_scoped_visitor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab61f42dab04ff5f8b21cc39e315eed2a inherit pub_methods_class_scoped_visitor"><td class="memItemLeft" align="right" valign="top"><a id="ab61f42dab04ff5f8b21cc39e315eed2a"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>visit</b> (<a class="el" href="class_variable_declaration.html">VariableDeclaration</a> &amp;elem) override</td></tr>
<tr class="separator:ab61f42dab04ff5f8b21cc39e315eed2a inherit pub_methods_class_scoped_visitor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e5d7eb4947ba3456744aaee7c3ad356 inherit pub_methods_class_scoped_visitor"><td class="memItemLeft" align="right" valign="top"><a id="a8e5d7eb4947ba3456744aaee7c3ad356"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>visit</b> (<a class="el" href="class_variable.html">Variable</a> &amp;elem) override</td></tr>
<tr class="separator:a8e5d7eb4947ba3456744aaee7c3ad356 inherit pub_methods_class_scoped_visitor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac13da0f117f9843f8b558b73cf24e3a5 inherit pub_methods_class_scoped_visitor"><td class="memItemLeft" align="right" valign="top"><a id="ac13da0f117f9843f8b558b73cf24e3a5"></a>
<a class="el" href="class_scope.html">Scope</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>getCurrentScope</b> ()</td></tr>
<tr class="separator:ac13da0f117f9843f8b558b73cf24e3a5 inherit pub_methods_class_scoped_visitor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5678adbcc234b42e80456c819df44f1 inherit pub_methods_class_scoped_visitor"><td class="memItemLeft" align="right" valign="top"><a id="ae5678adbcc234b42e80456c819df44f1"></a>
const <a class="el" href="class_scope.html">Scope</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>getCurrentScope</b> () const</td></tr>
<tr class="separator:ae5678adbcc234b42e80456c819df44f1 inherit pub_methods_class_scoped_visitor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72ce699f3f2e340963565907eac3094d inherit pub_methods_class_scoped_visitor"><td class="memItemLeft" align="right" valign="top"><a id="a72ce699f3f2e340963565907eac3094d"></a>
<a class="el" href="class_scope.html">Scope</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>getRootScope</b> ()</td></tr>
<tr class="separator:a72ce699f3f2e340963565907eac3094d inherit pub_methods_class_scoped_visitor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad784670afb118287d7b7df106d1b6db9 inherit pub_methods_class_scoped_visitor"><td class="memItemLeft" align="right" valign="top"><a id="ad784670afb118287d7b7df106d1b6db9"></a>
std::unique_ptr&lt; <a class="el" href="class_scope.html">Scope</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>takeRootScope</b> ()</td></tr>
<tr class="separator:ad784670afb118287d7b7df106d1b6db9 inherit pub_methods_class_scoped_visitor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d103871411f97f1c22298a5fcec7ab7 inherit pub_methods_class_scoped_visitor"><td class="memItemLeft" align="right" valign="top"><a id="a4d103871411f97f1c22298a5fcec7ab7"></a>
const <a class="el" href="class_scope.html">Scope</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>getRootScope</b> () const</td></tr>
<tr class="separator:a4d103871411f97f1c22298a5fcec7ab7 inherit pub_methods_class_scoped_visitor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add25ecfd10630f138cf8ad32428add1a inherit pub_methods_class_scoped_visitor"><td class="memItemLeft" align="right" valign="top"><a id="add25ecfd10630f138cf8ad32428add1a"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>setRootScope</b> (std::unique_ptr&lt; <a class="el" href="class_scope.html">Scope</a> &gt; &amp;&amp;scope)</td></tr>
<tr class="separator:add25ecfd10630f138cf8ad32428add1a inherit pub_methods_class_scoped_visitor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f9c44209f499713d2638bb17fb3c5b5 inherit pub_methods_class_scoped_visitor"><td class="memItemLeft" align="right" valign="top"><a id="a1f9c44209f499713d2638bb17fb3c5b5"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>overrideCurrentScope</b> (<a class="el" href="class_scope.html">Scope</a> *scope)</td></tr>
<tr class="separator:a1f9c44209f499713d2638bb17fb3c5b5 inherit pub_methods_class_scoped_visitor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ffcb22215d238174d3d49babddeda20 inherit pub_methods_class_scoped_visitor"><td class="memItemLeft" align="right" valign="top"><a id="a9ffcb22215d238174d3d49babddeda20"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>visitChildren</b> (<a class="el" href="class_abstract_node.html">AbstractNode</a> &amp;elem)</td></tr>
<tr class="separator:a9ffcb22215d238174d3d49babddeda20 inherit pub_methods_class_scoped_visitor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5635034caeaaad91eacbe3d00d2e29c6 inherit pub_methods_class_scoped_visitor"><td class="memItemLeft" align="right" valign="top"><a id="a5635034caeaaad91eacbe3d00d2e29c6"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>enterScope</b> (<a class="el" href="class_abstract_node.html">AbstractNode</a> &amp;node)</td></tr>
<tr class="separator:a5635034caeaaad91eacbe3d00d2e29c6 inherit pub_methods_class_scoped_visitor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acffbc54a36dd89aaa64b8d832ac1bc19 inherit pub_methods_class_scoped_visitor"><td class="memItemLeft" align="right" valign="top"><a id="acffbc54a36dd89aaa64b8d832ac1bc19"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>exitScope</b> ()</td></tr>
<tr class="separator:acffbc54a36dd89aaa64b8d832ac1bc19 inherit pub_methods_class_scoped_visitor"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a28c36a99a02fcc99ba68c813eec8fc1a"><td class="memItemLeft" align="right" valign="top">static std::unique_ptr&lt; <a class="el" href="class_abstract_node.html">AbstractNode</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_special_insert_mod_switch_visitor.html#a28c36a99a02fcc99ba68c813eec8fc1a">insertModSwitchInAst</a> (std::unique_ptr&lt; <a class="el" href="class_abstract_node.html">AbstractNode</a> &gt; *ast, <a class="el" href="class_binary_expression.html">BinaryExpression</a> *binaryExpression=nullptr, std::unordered_map&lt; std::string, std::vector&lt; seal::Modulus &gt;&gt; coeffmodulusmap={})</td></tr>
<tr class="separator:a28c36a99a02fcc99ba68c813eec8fc1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58388dc3b04278bad6427878f8ef0829"><td class="memItemLeft" align="right" valign="top">static std::unique_ptr&lt; <a class="el" href="class_abstract_node.html">AbstractNode</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_special_insert_mod_switch_visitor.html#a58388dc3b04278bad6427878f8ef0829">removeModSwitchFromAst</a> (std::unique_ptr&lt; <a class="el" href="class_abstract_node.html">AbstractNode</a> &gt; *ast, <a class="el" href="class_binary_expression.html">BinaryExpression</a> *binaryExpression=nullptr, std::unordered_map&lt; std::string, std::vector&lt; seal::Modulus &gt;&gt; coeffmodulusmap={})</td></tr>
<tr class="separator:a58388dc3b04278bad6427878f8ef0829"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ac153481bfd0d4e438edde7c410a720eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac153481bfd0d4e438edde7c410a720eb">&#9670;&nbsp;</a></span>getCoeffModulusMap()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::unordered_map&lt; std::string, std::vector&lt; seal::Modulus &gt; &gt; SpecialInsertModSwitchVisitor::getCoeffModulusMap </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p><a class="el" href="class_return.html" title="A Return statement has an (optional) value (AbstractExpression)">Return</a> coeffModulus map </p><dl class="section return"><dt>Returns</dt><dd>coeffmodulusmap </dd></dl>

</div>
</div>
<a id="ab1d5e7ad89f51d2f215c666fe0826253"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab1d5e7ad89f51d2f215c666fe0826253">&#9670;&nbsp;</a></span>getModSwitchNodes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="class_binary_expression.html">BinaryExpression</a> * &gt; SpecialInsertModSwitchVisitor::getModSwitchNodes </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the variable modSwitchNode, i.e. a unique pointer to a binary op that is eligible for insertion of modSwitch before it. </p><dl class="section return"><dt>Returns</dt><dd>modSwitchNode </dd></dl>

</div>
</div>
<a id="a71256438ed1d319ffdd75009fbd0cef8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a71256438ed1d319ffdd75009fbd0cef8">&#9670;&nbsp;</a></span>getNoiseMap()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::unordered_map&lt; std::string, int &gt; SpecialInsertModSwitchVisitor::getNoiseMap </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p><a class="el" href="class_return.html" title="A Return statement has an (optional) value (AbstractExpression)">Return</a> noisemap </p><dl class="section return"><dt>Returns</dt><dd>noisemap </dd></dl>

</div>
</div>
<a id="a28c36a99a02fcc99ba68c813eec8fc1a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a28c36a99a02fcc99ba68c813eec8fc1a">&#9670;&nbsp;</a></span>insertModSwitchInAst()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt; <a class="el" href="class_abstract_node.html">AbstractNode</a> &gt; SpecialInsertModSwitchVisitor::insertModSwitchInAst </td>
          <td>(</td>
          <td class="paramtype">std::unique_ptr&lt; <a class="el" href="class_abstract_node.html">AbstractNode</a> &gt; *&#160;</td>
          <td class="paramname"><em>ast</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_binary_expression.html">BinaryExpression</a> *&#160;</td>
          <td class="paramname"><em>binaryExpression</em> = <code>nullptr</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::unordered_map&lt; std::string, std::vector&lt; seal::Modulus &gt;&gt;&#160;</td>
          <td class="paramname"><em>coeffmodulusmap</em> = <code>{}</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Insert modSwitch Ops between a given binary expression and its children. returns (potentially different) rewritten AST </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ast</td><td>AST to be rewritten (function takes ownership) </td></tr>
    <tr><td class="paramname">binary</td><td>expression before which modswitches are to be inserted </td></tr>
    <tr><td class="paramname">coeffmodulusmap</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a new AST that has been rewritten </dd></dl>

</div>
</div>
<a id="a58388dc3b04278bad6427878f8ef0829"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a58388dc3b04278bad6427878f8ef0829">&#9670;&nbsp;</a></span>removeModSwitchFromAst()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt; <a class="el" href="class_abstract_node.html">AbstractNode</a> &gt; SpecialInsertModSwitchVisitor::removeModSwitchFromAst </td>
          <td>(</td>
          <td class="paramtype">std::unique_ptr&lt; <a class="el" href="class_abstract_node.html">AbstractNode</a> &gt; *&#160;</td>
          <td class="paramname"><em>ast</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_binary_expression.html">BinaryExpression</a> *&#160;</td>
          <td class="paramname"><em>binaryExpression</em> = <code>nullptr</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::unordered_map&lt; std::string, std::vector&lt; seal::Modulus &gt;&gt;&#160;</td>
          <td class="paramname"><em>coeffmodulusmap</em> = <code>{}</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Remove modSwitches from AST from children of a given binary expression </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ast</td><td>the AST </td></tr>
    <tr><td class="paramname">binaryExpression</td><td></td></tr>
    <tr><td class="paramname">coeffmodulusmap</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>AST without the modswitches </dd></dl>

</div>
</div>
<a id="afe5af723e743e28e7f000c49962a29c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe5af723e743e28e7f000c49962a29c2">&#9670;&nbsp;</a></span>rewriteAst()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt; <a class="el" href="class_abstract_node.html">AbstractNode</a> &gt; SpecialInsertModSwitchVisitor::rewriteAst </td>
          <td>(</td>
          <td class="paramtype">std::unique_ptr&lt; <a class="el" href="class_abstract_node.html">AbstractNode</a> &gt; *&#160;</td>
          <td class="paramname"><em>ast</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_visitor.html">RuntimeVisitor</a>&#160;</td>
          <td class="paramname"><em>srv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::unordered_map&lt; std::string, std::vector&lt; seal::Modulus &gt;&gt;&#160;</td>
          <td class="paramname"><em>coeffmodulusmap</em> = <code>{}</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Rewrite Algorithm: Finds potential sites to insert modswitches, then inserts a modswitch, recalculates the coefficient moduli and noise maps <a class="el" href="class_if.html">If</a> the remaining noise budget after insertion is greater zero, the change is kept, otherwise the modswitch is removed again. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ast</td><td>the AST </td></tr>
    <tr><td class="paramname">binaryExpression</td><td></td></tr>
    <tr><td class="paramname">coeffmodulusmap</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>AST rewritten AST </dd></dl>

</div>
</div>
<a id="a2fa9f4c2cd13cf4580b35fe55aa97f54"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2fa9f4c2cd13cf4580b35fe55aa97f54">&#9670;&nbsp;</a></span>updateCoeffModulusMap()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SpecialInsertModSwitchVisitor::updateCoeffModulusMap </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_binary_expression.html">BinaryExpression</a> *&#160;</td>
          <td class="paramname"><em>binaryExpression</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>numSwitches</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p><a class="el" href="class_function.html" title="A function has a return type, name, a list of parameters and a body.">Function</a> to update the coefficient modulus map: After modswitching, the coefficient modulus for all ancestors of the modSwitched nodes will change. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">binaryExpression</td><td></td></tr>
    <tr><td class="paramname">number</td><td>of performed modswitches </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad5a07cd10ba8956907cee6af6e4cfead"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad5a07cd10ba8956907cee6af6e4cfead">&#9670;&nbsp;</a></span>updateNoiseMap()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SpecialInsertModSwitchVisitor::updateNoiseMap </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_abstract_node.html">AbstractNode</a> &amp;&#160;</td>
          <td class="paramname"><em>astProgram</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_visitor.html">RuntimeVisitor</a> *&#160;</td>
          <td class="paramname"><em>srv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Updates noise heuristics for the AST: Note: in BFV modSwitching introduces noise, therefore, we ust check that the noisebudget does not reach zero needed to decide whether an inserted modSwitch is indeed kept. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ast</td><td>(root node) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>noiseBudget of root node </dd></dl>

</div>
</div>
<a id="ae8f31e684bcc413f1ae1aec18e1e8dd7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae8f31e684bcc413f1ae1aec18e1e8dd7">&#9670;&nbsp;</a></span>visit()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void SpecialInsertModSwitchVisitor::visit </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_binary_expression.html">BinaryExpression</a> &amp;&#160;</td>
          <td class="paramname"><em>node</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Visits an AST and based on noise heuristics and identifies binary expressions where a modswitch op is appropriate based on the bitlengths of the primes in the coeff modulus and the remaining noise budget. pointer to resulting binary expressions will be stored in the vector modSwitchNodes </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">node</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="class_scoped_visitor.html">ScopedVisitor</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>include/ast_opt/visitor/<a class="el" href="_insert_mod_switch_visitor_8h_source.html">InsertModSwitchVisitor.h</a></li>
<li>src/visitor/InsertModSwitchVisitor.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
